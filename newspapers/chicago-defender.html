<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chicago Defender (1910-1929) · Dangerous Press Archive</title>
    <meta name="description" content="Browse 979 digitized issues of the Chicago Defender from 1910-1929. The Chicago Defender was one of the most influential African American newspapers of the early 20th century.">
    <meta name="keywords" content="Chicago Defender, African American newspapers, Black press, historic newspapers, 1910-1929, digitized newspapers">
    <link rel="canonical" href="https://dangerouspress.org/newspapers/chicago-defender.html">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dangerouspress.org/newspapers/chicago-defender.html">
    <meta property="og:title" content="Chicago Defender (1910-1929) · Dangerous Press Archive">
    <meta property="og:description" content="Browse 979 digitized issues of the Chicago Defender from 1910-1929.">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary">
    <meta property="twitter:url" content="https://dangerouspress.org/newspapers/chicago-defender.html">
    <meta property="twitter:title" content="Chicago Defender (1910-1929) · Dangerous Press Archive">
    <meta property="twitter:description" content="Browse 979 digitized issues of the Chicago Defender from 1910-1929.">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <!-- Main Container -->
    <div id="app" class="relative min-h-screen">

        <!-- Header -->
        <header id="main-header" class="glass py-6 px-4 md:px-6 transition-all duration-300">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                    <!-- Logo & Title -->
                    <div class="flex flex-col sm:flex-row items-center gap-4 md:gap-6 text-center md:text-left branding-lockup">
                        <a href="../index.html" class="brand-emblem" aria-label="Return to archive home">
                            <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="6" y="12" width="52" height="40" rx="4" fill="#F5F1E8" stroke="#8B7355" stroke-width="2"/>
                                <path d="M12 20H52" stroke="#8B7355" stroke-width="3" stroke-linecap="round"/>
                                <path d="M12 28H44" stroke="#8B7355" stroke-width="3" stroke-linecap="round"/>
                                <path d="M12 36H40" stroke="#8B7355" stroke-width="3" stroke-linecap="round"/>
                                <path d="M12 44H36" stroke="#8B7355" stroke-width="3" stroke-linecap="round"/>
                                <path d="M50 24V48" stroke="#8B7355" stroke-width="3" stroke-linecap="round"/>
                                <path d="M45 24V48" stroke="#8B7355" stroke-width="3" stroke-linecap="round"/>
                                <path d="M16 48H32" stroke="#8B7355" stroke-width="3" stroke-linecap="round"/>
                            </svg>
                        </a>
                        <div>
                            <h1 class="hero-title editorial-title transition-all duration-300">
                                <a href="../index.html" class="hover:opacity-80 transition-opacity" style="color: inherit; text-decoration: none;">Dangerous Press</a>
                            </h1>
                            <p class="text-sm mt-1 font-medium subtitle-text" style="color: var(--text-secondary);">An Archive of African American Newspapers, 1910–1929</p>
                        </div>
                    </div>

                    <!-- Navigation -->
                    <div class="flex gap-4 text-sm">
                        <a href="../index.html" class="font-medium transition-colors deco-link" style="color: var(--text-muted);">Browse Archive</a>
                        <a href="../about.html" class="font-medium transition-colors deco-link" style="color: var(--text-muted);">About</a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="max-w-7xl mx-auto px-4 md:px-6 py-8">
            <main>
                <!-- Newspaper Header -->
                <div class="glass-card rounded-2xl p-8 mb-8">
                    <h2 class="text-4xl md:text-5xl font-black mb-4" style="font-family: 'Playfair Display', serif; color: var(--unc-longleaf-pine);">
                        Chicago Defender
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
                        <div class="stat-card p-4 rounded-lg" style="background: var(--bg-hover); border: 1px solid var(--border-color);">
                            <div class="text-sm font-semibold uppercase tracking-wider mb-1" style="color: var(--text-muted);">Years Covered</div>
                            <div class="text-3xl font-bold" style="color: var(--unc-tile-teal);">1910–1929</div>
                        </div>
                        <div class="stat-card p-4 rounded-lg" style="background: var(--bg-hover); border: 1px solid var(--border-color);">
                            <div class="text-sm font-semibold uppercase tracking-wider mb-1" style="color: var(--text-muted);">Total Issues</div>
                            <div class="text-3xl font-bold" style="color: var(--unc-tile-teal);">979</div>
                        </div>
                        <div class="stat-card p-4 rounded-lg" style="background: var(--bg-hover); border: 1px solid var(--border-color);">
                            <div class="text-sm font-semibold uppercase tracking-wider mb-1" style="color: var(--text-muted);">Total Pages</div>
                            <div class="text-3xl font-bold" style="color: var(--unc-tile-teal);">11,887</div>
                        </div>
                    </div>
                </div>

                <!-- Issues by Year -->
                <div class="glass-card rounded-2xl p-8">
                    <h3 class="text-2xl font-bold mb-6" style="color: var(--unc-longleaf-pine);">Browse Issues by Year</h3>

                    <div class="space-y-6" id="issues-container">
                        <!-- Issues will be loaded here -->
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        // Load and display issues
        async function loadIssues() {
            try {
                const response = await fetch('../web_content/manifest.json');
                const manifest = await response.json();

                // Filter to Chicago Defender 1910-1929
                const issues = manifest.filter(issue =>
                    issue.title === 'Chicago Defender' &&
                    issue.date >= '1910' && issue.date <= '1929'
                );

                // Group by year
                const issuesByYear = {};
                issues.forEach(issue => {
                    const year = issue.date.substring(0, 4);
                    if (!issuesByYear[year]) {
                        issuesByYear[year] = [];
                    }
                    issuesByYear[year].push(issue);
                });

                // Render
                const container = document.getElementById('issues-container');
                const years = Object.keys(issuesByYear).sort().reverse();

                years.forEach(year => {
                    const yearIssues = issuesByYear[year];

                    const yearSection = document.createElement('div');
                    yearSection.className = 'year-section';

                    yearSection.innerHTML = `
                        <h4 class="text-xl font-bold mb-3" style="color: var(--unc-tile-teal);">
                            ${year} <span class="text-sm font-normal" style="color: var(--text-muted);">(${yearIssues.length} issues)</span>
                        </h4>
                        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3">
                            ${yearIssues.map(issue => {
                                const date = new Date(issue.date + 'T00:00:00');
                                const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                                const dateStr = monthNames[date.getMonth()] + ' ' + date.getDate();

                                return `
                                    <a href="../?paper=chicago-defender&date=${issue.date}"
                                       class="issue-link p-3 rounded-lg text-center transition-all hover:scale-105"
                                       style="background: var(--bg-hover); border: 1px solid var(--border-color); text-decoration: none; display: block;">
                                        <div class="font-semibold" style="color: var(--text-primary);">${dateStr}</div>
                                        <div class="text-xs mt-1" style="color: var(--text-muted);">${issue.pages} pages</div>
                                    </a>
                                `;
                            }).join('')}
                        </div>
                    `;

                    container.appendChild(yearSection);
                });

            } catch (error) {
                console.error('Error loading issues:', error);
                document.getElementById('issues-container').innerHTML =
                    '<p style="color: var(--text-muted);">Error loading issues. Please try again later.</p>';
            }
        }

        // Load issues on page load
        loadIssues();
    </script>
</body>
</html>
